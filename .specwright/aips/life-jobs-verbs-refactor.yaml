aip_id: AIP-life-2025-12-10-001
context:
  background: ''
  constraints: []
created: '2025-12-10T17:47:00+00:00'
meta:
  created_at: '2025-12-10T17:47:00+00:00'
  created_by: benthepsychologist
objective:
  acceptance_criteria:
  - Old subprocess-based commands archived and removed from CLI
  - '`~/.life/jobs/` no longer used - job runner reads from `src/life/jobs/` only'
  - '`today` command converted to verb → job → processor flow'
  - '`today.prompt_llm` uses `llm` Python library (NOT subprocess)'
  - '`email` command added following the clean pattern'
  - All verbs call `run_job()` directly (Python), never subprocess
  - '`life_jobs.shell` removed (no subprocess escape hatch)'
  - All jobs use dotted namespace convention (`email.send`, not `send_email`)
  - Job runner validates job names match `^\w+\.\w+$` regex
  - All processor modules have `__io__` metadata dict
  - ARCHITECTURE.md updated to match this spec exactly
  - CI green (lint + tests)
  goal: Clean up life architecture to match the jobs/verbs/processors model
orchestrator_contract:
  artifacts_dir: .aip_artifacts/AIP-life-2025-12-10-001
  logging: jsonl
  state_machine:
    events:
    - run_step
    - await_gate
    - approve
    - reject
    - retry
    - escalate
    - complete
    states:
    - pending
    - running
    - awaiting_human
    - failed
    - succeeded
    - rolled_back
plan:
- description: Archive old commands
  kind: code
  role: coding_agent
  step_id: step-001
- description: Fix job runner path and add validator
  kind: code
  role: coding_agent
  step_id: step-002
- description: Convert `today` command
  kind: code
  role: coding_agent
  step_id: step-003
- description: Add email module
  kind: code
  role: coding_agent
  step_id: step-004
- description: Remove transitional code
  kind: code
  role: coding_agent
  step_id: step-005
- description: Update ARCHITECTURE.md
  kind: code
  role: coding_agent
  step_id: step-006
- description: Validation
  kind: code
  role: coding_agent
  step_id: step-007
project_slug: life
repo:
  default_branch: main
  url: git@github.com:benthepsychologist/life.git
  working_branch: feat/jobs-verbs-refactor
spec_version: 1.0.0
tier: B
title: life-jobs-verbs-refactor
updated: '2025-12-10T18:00:00+00:00'
version: '0.1'

